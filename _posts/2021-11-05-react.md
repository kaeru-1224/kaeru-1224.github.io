---
layout: post
title: Second Posting:갯츠비찍먹!-Part 2:React?
tags: Gatsby
date: 2021-11-05 06:24
---

- What is React?

-리액트는 UI를 만들기위해서 갯츠비가 기반으로 사용하는 자바스크립트 라이브러리로, 리액트로 사용자는 ui를 컴포넌트라는 재사용할 수 있는 조각으로 나눌 수있게된다.

![component_ex](https://www.gatsbyjs.com/static/e956cd45d790934484f0d93643c87cc7/5df5d/ui-built-from-components.png){: .align-center}

-다른 컴포넌트로부터 컴포넌트를 만들 수있다. 예를들어 현재 `<ProducGrid>`라는 컴포넌트에서 `<PostCard>`라는 여러개이 컴포넌트 리스트를 만들어줄 수있는데, 이 리스트는 한 제품의 여러 디테일을 보여주는데 이용된다. 이러한 패턴을 `composition`이라 부른다

- What is a React Component?

-리액트 컴포넌트는 리액트 요소를 리턴해주는 함수로, 리액트 요소는 DOM 요소를 랜더링해주는 객체이다.

( 🤔 DOM/그리고 정확히 elements를 뭐라 정의내릴까?)

```
const Greeting = () => {
  return (
    <h1>Hello world!</h1>
  )
}
```

- 리액트 요소는 위와같이 JSX로 작성이된다.JSX는 HTML이 자바 스크립트 파일 안에 있는것 같은 모양을 지니고 있다

🤔 JSX?  
 👉 JSX(=Java Script syntax)는 자바 스크리트를 확장한 문법으로 React 엘리먼트를 생성해줍니다

😧 리액트 공식문서에서 JSX 설명이 꽤 길어서 이건 따로 공부를 해주어야할 것 같다)

- Create a page component

-겟츠비 사이트에서는 두 타입의 컴포넌트가 있는데, 그중하나가 바로 페이지 컴포넌트 이다.페이지 컴포넌트는 특정 페이지의 모든 UI요소들을 포함하고 있다.

🤔 그러면 React 컴포넌트를 어떻게 작성하는걸까?: 공식 사이트에서는 3스텝으로 이야기해준다

1. import React!

```javascript
// Step 1: 리액트를 import해주어서 js파일내에서  jsx를 사용할 수있게해준다.
import * as React from "react";
```

2. Define your component: 컴포넌트를 정의해준다

```javascript
const Mycomponent = () => {
  return <h1>Hi, welcome to my site!</h1>;
};
```

!! 이때 컴포넌트의 이름은 대문자로 시작해야한다, 리턴하는 값은 한개의 값만 가능하며 아래의 예시는 진행시 에러가 난다.

```javascript
const InvalidComponent = () => {
  return (
    <h1>This won't work.</h1>
    <p>Because there are two elements at the top level.</p>
  )
}
/*-Adjacent JSX elements must be wrapped in an enclosing tag.
Did you want a JSX fragment와같은 에러를 받게된다*/
```

이러한 경우 두가지 방법으로 해결이 가능하다.

```javascript
//1.div나 상위 엘리먼트로 감싸주기
const InvalidComponent = () => {
  return (
    <div>
      <h1>This won't work.</h1>
      <p>Because there are two elements at the top level.</p>
    </div>
  );
};
//2.fragment이용해주기
const InvalidComponent = () => {
  return (
    <>
      <h1>This won't work.</h1>
      <p>Because there are two elements at the top level.</p>
    </>
  );
};
```

3. 만들어준 컴포넌트를 export해준다!

```javascript
const Mycomponent = () => {
  return <h1>Hi, welcome to my site!</h1>;
};
export default Mycomponent;
```

🤔그런데 왜 export default만 사용이 가능한거지?

- Create a new page component for an About page

페이지를 새로 만들때에는 `/src` 폴더에 새로운 js파일을 추가해 위의 세가지 단계를 밟아주면된다.

--> 그런데 개인적으로 신기했던게 이전에 express를 사용하면서 라우트하는 작업을 하고 진행을하던게 여기에서는 쉽게 진행이되는게 신기해서, 이게 왜 이렇게 되는지도 궁금하기도했음..🤔

- Building-block components.

> > 여기서 `Building-block components` 라는 단어는 겟츠비 내에서만 특정 컴포넌트를 묘사할때만 쓰는 단어로, 기술적인 용어는 아니다. Building-block의 경우 전체 페이지가 아닌 ui의 일부를 이야기하며 Building-block이 모여서 하나의 page component가 된다.

1. Components with props(properties)

-ex1) Link components

- Link components는 갯츠비 패키지에서 미리 만들어진 components로 , 링크는 겟츠비 사이트에 단어 그대로 링크를 추가할 수있도록해준다.

  🤔그런데 그러면 HTML에서의 `<a>`태그와의 차이가 무엇일까?  
   👉 `href=`를 사용해주는 a태그와는 달리 링크 컴포넌트는 `to=`를 이용한다.to의 뒤에도 href와 동일하게 이동하고자하는 URL을 작성해주면된다.  
   또한 링크의 경우 사용자가 마우스를 링크위에 놓았을대 미리 링크된 페이지에 대한 리소스가 요청이되는 사전 로딩이되어 a태그와는 달리 조금더 빠른 로딩이 가능하다.
  (??preloading에 대한 설명을 좀더보기)

- 사용법

```javascript
import * as React from "react";
import { Link } from "gatsby"; <<추가되는 부분

const IndexPage = () => {
  return (
    <main>
      <title>Home Page</title>
      <h1>Welcome to my Gatsby site!</h1>
      <Link to="/about">About</Link>  << 추가되는 부분
      <p>I'm making this by following the Gatsby Tutorial.</p>
    </main>
  );
};

export default IndexPage;
```

그런데 link 사용하는 방법이 엄청 신기해서 리액트는 대부분 이렇게 진행이되는건가하는 생각도 들었음.ㅇㅇ..
아닐수도 잇겟지만 ㅋㅋㅋ,, 동시에 이게 왜 이렇게 되는지도 궁금하긴한것같다ㅋㅋ.

2. Using layout

   1)왜 레이아웃을 이용해주는걸까?

- 레이아웃의 경우 반복을 방지하고 재사용에 용이하기 때문이다. 다양한 사이트를 이용해보면 우리는 몇몇 컴포넌트들이 계속해서 사용된다는 것을 볼수있다. 그리고 몇개의 페이지의 경우 반복이 가능하지만 만약에 그게 천개가 넘는다면? 이라는 극단적인 가정을 해보면,이 반복 작업을 최대한 줄여 나가고 싶을 것이다. 그래서 우리는 레이아웃 컴포넌트를 만들어서 반복에서 탈출해볼것이다.

  2)Children

  😧 이전 실습(?)을 개인적으로 진행하면서 레이아웃을 만들고 내부에 요소를 넣었는데 굴러가지 않아서 당황했는데 어제 다시해보니 children 속성을 넣지 않아서! 라는 것을 알수있었다. ㅋㅋ ㅠㅠ 개똥벌레 노래 불러야한다 정말

! 레이아웃을 만들어보자

1. `src/components/layout.js`파일을 만들어주자
2. 코드를 작성한다

```javascript
import * as React from "react";
import { Link } from "gatsby";

const Layout = ({ pageTitle, children }) => {
  return (
    <div>
      <title>{pageTitle}</title>
      <nav>
        <ul>
          <li>
            <Link to="/">Home</Link>
          </li>
          <li>
            <Link to="/about">About</Link>
          </li>
        </ul>
      </nav>
      <main>
        <h1>{pageTitle}</h1>
        {children}
      </main>
    </div>
  );
};

export default Layout;
```
