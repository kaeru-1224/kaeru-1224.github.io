---
layout: post

title: Second Posting:갯츠비찍먹!-Part 3:PLUGIN?
tags: Gatsby
date: 2021-11-12 06:42
---

<h3>Meet Gatsby’s GraphQL data layer</h3>

이전까지 리액트 컴포넌트에 바로 이미지나 문장을 적어왔지만 종종 마크다운 파일의 폴더나 CMS (content managemebt system)등을 활용해서 데이터를 만들고 유지한다음 필요에따라 컴포넌트에 넣어주는 방법 역시 용이하다.

✅Data layer

![datalayer_ex](https://www.gatsbyjs.com/static/e45422900475b86807bc002fb6863b85/5df5d/data-layer.png)

갯츠비는 어디로부터나 데이터를 데려올 수 있는 데이터 레이어를 지니고 있다.
그런데 여기서 `어디로부터`는 단어 그대로 데이터를 Shopify나 Airtable에 넣어도 여러 데이터 소스들을 결합해서 사용할 수있도록 한다는 의미로 GraphQL이 이러한 작업을 할수있도롣 우리를 도와줄 것이다.

🤔 그러면 GraphQL이 어떤식으로 작동할까?

- 한개 혹은 그이상의 `공간(source)`에 데이터가 저장된다. 이때 그
  공간은 사용자의 컴퓨터의 파일 시스템일수도 있고 CMS일수도 있으며 혹은 데이터 베이스 일수도 있다.

🤔 그러면 그 공간으로부터 데이터레이아웃까지 데이터는 어떻게 얻을 수있을까.

- 갯츠비의 경우 `source plugin`을 사용함으로써 데이터를 얻어올 수있도록 도와준다.

✔ 갯츠비 튜토리얼의 경우 유명 플러그인인 `gatsby-source-filesystem`나 `gatsby-source-contentful`를 예시로 들고 있다.

🤔그러면 그 데이터를 어떻게 사용하지?

- GraphQL 쿼리문을 이용해서 원하는 컴포넌트에 데이터를 활용할 수있도록 해준다.

<h3>Use GraphiQL to explore the data layer and write GraphQL queries</h3>

🤔 사용자가 어떻게 자신의 사이트의 GraphQL 데이터 레이어를 알 수 있을까?

![ GraphiQL_ex](https://www.gatsbyjs.com/static/c6b53975530da3347f0e0d12fc175208/84a90/graphiql.png)

- 갯츠비 에서는 개발자 서버를 실행할때 자동적으로 `GrahpiQL`이라는 브라우저 틀을 만들어주는데,`GrahpiQL`를 통해서 데이터를 확인하고 쿼리를 만들어 볼 수있다.

-`gatsby develop.`이나 ` npm run start`등으로 시작

```
You can now view frog in the browser.
⠀
  http://localhost:8000/
⠀
View GraphiQL, an in-browser IDE, to explore your site's data and schema
⠀
  http://localhost:8000/___graphql
⠀
```

-위와 같이 `http://localhost:8000/___graphql`(= `GrahpiQL`의 주소)라는 주소를 얻게된다.
